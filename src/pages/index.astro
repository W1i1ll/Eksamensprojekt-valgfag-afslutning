---
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/Button.astro";
import Link from "../components/Link.astro";
import Oplevelsecard from "../components/Oplevelsecard.astro";
import Footer from "../components/Footer.astro";
import { Image } from "astro:assets";
import herovideo from "../assets/images/herovideo.mp4";
import beer1 from "../assets/images/beer1.webp";
import beer2 from "../assets/images/beer2.webp";
import passion from "../assets/images/passion.webp";
import trin1 from "../assets/images/trin1.svg";
import trin2 from "../assets/images/trin2.svg";
import trin3 from "../assets/images/trin3.svg";
import malt from "../assets/images/malt.webp";
import hops from "../assets/images/hops.webp";
import lemon from "../assets/images/lemon.webp";
import appelsin from "../assets/images/appelsin1.webp";
import boblerdesk from "../assets/images/boblerdesk.svg";
import boblermobil from "../assets/images/boblermobil.svg";
---

<MainLayout title="MaltClub" />

<section>
  <!-- Popup  -->
  <div
    id="popup"
    class="fixed left-0 top-2/4 transform -translate-x-full bg-black bg-opacity-90 text-white p-6 rounded-lg shadow-lg transition-transform duration-500 ease-in-out z-50 w-[90%] sm:w-[350px] md:w-[450px] lg:w-[500px]"
  >
    <!-- Luk-knap -->
    <button
      id="close-btn"
      class="absolute top-4 right-4 text-white text-2xl"
      aria-label="Luk"
    >
      &times;
    </button>

    <!-- Indhold -->
    <div class="space-y-4">
      <!-- Overskrift -->
      <h2 class="karantina text-[32px] sm:text-[28px] md:text-[36px] font-bold">
        Skål for rabatten!
      </h2>
      <!-- Undertekst -->
      <p class="text-[16px] sm:text-[14px] jost">
        Tilmeld dig vores nyhedsbrev og spar 20% på første måned
      </p>

      <!-- Email Form -->
      <form
        id="newsletter-form"
        class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-2"
      >
        <!-- Justeret inputfelt -->
        <input
          type="email"
          id="email"
          placeholder="Email"
          class="jost w-full sm:w-3/4 h-14 p-4 rounded-[5px] bg-[#BE7E39] text-white placeholder-white focus:outline-none focus:ring-2 focus:ring-[#BE7E39] border border-transparent"
          required
        />

        <!-- Justeret knap -->
        <button
          type="submit"
          class="karantina w-full sm:w-1/4 h-14 bg-[#A6411B] hover:bg-[#8A3717] text-white text-[20px] sm:text-[24px] font-semibold rounded-[10px]"
        >
          Tilmeld
        </button>
      </form>
    </div>
  </div>
</section>

<div class="relative w-full h-screen">
  <video
    src={herovideo}
    class="absolute inset-0 w-full h-full object-cover"
    autoplay
    muted
    loop></video>

  <!-- Overlay -->
  <div class="absolute inset-0 bg-black opacity-40"></div>

  <!-- Indhold -->
  <div
    class="relative z-10 flex items-center justify-center text-white flex-col h-full"
  >
    <!-- Flasker -->
    <div class="absolute inset-0 flex justify-between items-center px-8">
      <!-- Flaske 1 -->
      <Image
        src={beer1}
        alt="En øl"
        class="md:block w-[90px] -mt-96 md:mt-0 md:w-[200px] h-auto transform rotate-[-10deg] md:ml-3 floating-beer-1"
      />
      <!-- Flaske 2 -->
      <Image
        src={beer2}
        alt="En øl"
        class="md:block w-[65px] -mt-96 md:mt-0 md:w-[140px] h-auto transform rotate-[10deg] md:mr-10 floating-beer-2"
      />
    </div>

    <h1
      class="text-[45px] md:text-[128px] md:mt-2 karantina font-bold text-center mt-60"
    >
      BRYGGET MED OMSORG <br />
      LEVERET MED KÆRLIGHED
    </h1>

    <h2
      class="mt-4 text-[24px] md:text-[40px] karantina font-bold text-center m-8"
    >
      Unikke specialøl, der forvandler din hverdag til en smagsoplevelse
    </h2>

    <!-- Call-to-action knap -->
    <a
      href="/productchoose"
      class="karantina text-[32px] bg-[#A6411B] hover:bg-[#8A3717] text-white py-3 px-6 rounded-[20px] z-20 relative"
    >
      Se abonnementer
    </a>
  </div>

  <!-- Scroll-pil -->
  <div class="absolute bottom-4 left-0 right-0 flex justify-center">
    <a href="#next-section" class="text-white text-5xl animate-bounce"> ↓ </a>
  </div>
</div>

<!-- Passion for øl sektion -->
<section class="relative p-2 mt-10 md:mt-20 md:p-10">
  <div class="relative">
    <!-- Billede -->
    <Image
      src={passion}
      alt="En person skænker øl op"
      class="rounded-[20px] w-auto h-[303px] md:w-[817px] md:h-[600px] md:ml-auto"
    />

    <!-- Boks med tekst -->
    <div
      id="parallax-box"
      class="bg-black text-white p-5 rounded-[20px] mt-6 md:absolute md:left-0 md:w-1/2 md:ml-4"
      style="box-shadow: -10px 10px 20px rgba(0, 0, 0, 1); position: absolute; top: 50%; transform: translateY(-50%); transition: transform 0.1s ease-out;"
    >
      <h2
        class="text-[40px] ml-5 md:text-[64px] karantina font-bold text-center md:text-left"
      >
        En <span class="text-[#BE7E39]">passion</span> for øl
      </h2>
      <p class="text-[16px] ml-5 mt-[20px] jost">
        Hos MaltClub er vi passionerede omkring at udbrede kendskabet til øl med
        historie og smag. Hver måned sammensætter vi en kasse fyldt med nøje
        udvalgte specialøl fra bryghuse med noget på hjertet. Øl, der ikke bare
        smager godt – men også fortæller en historie. <br /><br />
        Er du klar til din næste smagsoplevelse?
      </p>
    </div>
  </div>
</section>

<!-- Trin sektion -->
<section>
  <h2
    class="text-[40px] m-10 md:text-[64px] karantina font-bold text-center text-white md:mt-20"
  >
    Tre simple trin til fantastiske øl
  </h2>

  <!-- Grid container -->
  <ul
    id="stagger"
    class="staggeranimation grid grid-cols-1 md:grid-cols-3 gap-8 px-4 md:px-20"
  >
    <!-- Trin 1 -->
    <li class="relative text-center opacity-0">
      <h3 class="text-[96px] md:text-[128px] karantina font-bold text-white">
        1
      </h3>
      <Image
        src={trin1}
        alt="En computerskærm med indkøbskurv"
        class="w-[80%] md:w-[100%] mx-auto"
      />
      <p
        class="absolute inset-0 text-white font-bold jost flex justify-center items-center mt-72 md:mt-80 md:text-[20px]"
      >
        Vælg dit MaltCLub abonnement
      </p>
    </li>

    <!-- Trin 2 -->
    <li class="relative text-center opacity-0">
      <h3 class="text-[96px] md:text-[128px] karantina font-bold text-white">
        2
      </h3>
      <Image
        src={trin2}
        alt="En lastbil der leverer øl"
        class="w-[80%] md:w-[100%] mx-auto"
      />
      <p
        class="absolute inset-0 text-white font-bold jost flex justify-center items-center mt-72 md:mt-80 md:text-[20px]"
      >
        Vi leverer direkte til døren
      </p>
    </li>

    <!-- Trin 3 -->
    <li class="relative text-center opacity-0">
      <h3 class="text-[96px] md:text-[128px] karantina font-bold text-white">
        3
      </h3>
      <Image
        src={trin3}
        alt="To øl glas der skåler"
        class="w-[80%] md:w-[100%] mx-auto"
      />
      <p
        class="absolute inset-0 text-white font-bold jost flex justify-center items-center mt-72 md:mt-80 md:text-[20px]"
      >
        Nyd unikke øl i godt selskab
      </p>
    </li>
  </ul>
</section>

<!-- Bobler -->
<div class="relative">
  <!-- Desktop-bobler (vises kun på større skærme) -->
  <Image
    src={boblerdesk}
    alt="Ølbobler"
    class="hidden md:block m-auto animate-float"
  />

  <!-- Mobil-bobler (vises kun på mobile skærme) -->
  <Image
    src={boblermobil}
    alt="Ølbobler"
    class="block md:hidden mx-auto mt-10 animate-float"
  />
</div>

<section class="p-1">
  <div class="md:flex md:items-center md:gap-8">
    <div
      class="bg-black p-12 rounded-[20px] m-5 mt-6 md:w-1/2 md:m-20"
      style="box-shadow: -10px 10px 20px 0px rgba(0, 0, 0, 1);"
    >
      <h2 class="text-[36px] md:text-[64px] karantina font-bold text-white">
        De <span class="text-[#BE7E39]">fire</span> nøgleingredienser
      </h2>
      <p class="text-white text-[16px] mt-[20px] jost">
        Hemmeligheden bag en fantastisk øl starter med de fire
        nøgleingredienser: vand, malt, humle og gær. Det er her fundamentet
        skabes – malten giver øllet fylde og sødme, humlen tilføjer bitterhed og
        aroma, gæren skaber smag og de livlige bobler, og vandet binder det hele
        sammen med ren friskhed.
      </p>
    </div>

    <!-- Billeder -->
    <div class="flex justify-center gap-8 md:flex-col md:gap-4 md:w-1/2">
      <!-- Malt billede -->
      <div class="relative md:-ml-60">
        <Image
          src={malt}
          alt="Malt"
          class="w-[200px] md:w-[590px] md:h-[440px]"
        />
      </div>

      <!-- Humle billede -->
      <div class="relative">
        <Image
          src={hops}
          alt="Humle"
          class="w-[200px] -mt-16 md:w-[665px] md:h-[500px]"
        />
      </div>
    </div>
  </div>
</section>

<section>
  <div class="flex flex-col md:flex-row md:items-center md:gap-8">
    <!-- Øverste billeder (Desktop) -->
    <div class="flex justify-center gap-8 mt-8 md:w-1/2 md:flex-col md:gap-4">
      <!-- Appelsin billede  desktop -->
      <div class="relative hidden md:block">
        <Image src={appelsin} alt="Appelsiner" class="w-[571px]" />
      </div>

      <!-- Citron billede / desktop -->
      <div class="relative -mt-8 hidden md:block">
        <Image
          src={lemon}
          alt="Citroner"
          class="w-[598px] md:ml-60 md:-mt-16"
        />
      </div>
    </div>

    <div
      class="bg-black md:p-7 p-12 rounded-[20px] mt-6 md:mt-0 md:w-1/2 md:m-20"
      style="box-shadow: -10px 10px 20px 0px rgba(0, 0, 0, 1);"
    >
      <h2 class="text-[36px] md:text-[64px] karantina font-bold text-[#BE7E39]">
        Kreativitet <span class="text-white">og</span> eksperimenter
      </h2>
      <p class="text-white text-[16px] mt-[20px] jost">
        Men hos MaltClub stopper historien ikke her. Specialøl handler også om
        kreativitet og modet til at gå ud over det traditionelle. Forestil dig
        øl tilført tropiske frugter, friske bær, ristede kaffebønner eller
        krydrede urter – ingredienser, der giver hver flaske sin helt egen
        personlighed og historie. Det er denne blanding af håndværk og
        innovation, der gør øloplevelserne i MaltClub-kasserne så unikke.
      </p>
    </div>

    <div class="flex md:hidden gap-8 justify-center mt-8">
      <!-- Appelsin billede / mobil -->
      <div class="relative w-1/2">
        <Image src={appelsin} alt="Appelsiner" class="w-[206px]" />
      </div>

      <!-- Citron billede / mobil -->
      <div class="relative w-1/2">
        <Image src={lemon} alt="Citroner" class="w-[246px] -mt-12" />
      </div>
    </div>
  </div>
</section>

<section>
  <Oplevelsecard />
  <Footer />
</section>

<style>
  /* CSS Animation for floating beer bottles */
  @keyframes float-1 {
    0% {
      transform: translateY(0) translateX(0) rotate(-10deg);
    }
    50% {
      transform: translateY(-10px) translateX(5px) rotate(-5deg);
    }
    100% {
      transform: translateY(0) translateX(0) rotate(-10deg);
    }
  }

  @keyframes float-2 {
    0% {
      transform: translateY(0) translateX(0) rotate(10deg);
    }
    50% {
      transform: translateY(10px) translateX(-5px) rotate(5deg);
    }
    100% {
      transform: translateY(0) translateX(0) rotate(10deg);
    }
  }

  /* Apply floating effect to beer bottles */
  .floating-beer-1 {
    animation: float-1 3s ease-in-out infinite;
  }

  .floating-beer-2 {
    animation: float-2 3s ease-in-out infinite;
  }
</style>

<script>
  window.onload = () => {
    setTimeout(() => {
      document.getElementById("popup").classList.remove("-translate-x-full");
    }, 3000); // Viser popup efter 3 sekunder
  };

  // Luk-popup funktion
  document.getElementById("close-btn").onclick = () => {
    document.getElementById("popup").classList.add("-translate-x-full");
  };

  // Når dokumentet er klar
  document.addEventListener("DOMContentLoaded", function () {
    const parallaxBox = document.getElementById("parallax-box");

    // Funktion til at opdatere positionen af boksen ved scroll
    window.addEventListener("scroll", function () {
      const scrollPosition = window.scrollY;
      // Juster hvor meget boksen bevæger sig over billedet baseret på scroll-position
      // Parallax-effekten - skaber bevægelse over billedet
      parallaxBox.style.transform = `translateY(${scrollPosition * -0.3}px)`;
    });
  });

  import { inView, animate, stagger } from "motion";

  // Når elementet er i viewport
  inView("#stagger", () => {
    animate(
      ".staggeranimation li",
      { opacity: [0, 1], transform: ["translateY(50px)", "translateY(0)"] },
      {
        delay: stagger(1, { start: 1 }), // Forsinkelse mellem hver li
        duration: 1, // Varighed af animation
        easing: "ease-out",
      }
    );
  });
</script>
